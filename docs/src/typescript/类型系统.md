# 类型系统

> JavaScript 的松散语法给我们带来便利的同时，也带来了一些隐患：一些（通常是低级的）错误，要等到运行时才会抛出来。在上边的例子中很明显，在调用 renderUser 时，传入的参数顺序反了。
> 
> JavaScript 的值，数字归数字、对象归对象、本身都是有类型的，但这种类型是隐式的、可变的。Python 之禅有一条是说：显式优于隐式，如果有一种办法显式地把类型告诉我们的机器，机器是不是能反馈给我们一些好处？

## 类型是什么

类型是所有满足某些特征的 JavaScript 值的集合。举个例子，number 类型，是所有浮点数、NaN、±Infinity、-0 的集合。
我们知道，集合具有下列三个特征：

- 确定性：给定一个元素，可以明确地判断其是否属于该集合。
- 互异性：集合中不存在两个相同的元素。
- 无序性：集合中的元素任意排列，仍然表示相同的集合。

在一个类型中，我们不关心值的次序，也不存在重复的值。由于类型是用代码精确地定义的，那么 TS 语言服务总能判断一个值是否满足某个类型的要求。

## TypeScript 中的类型

### 基本注解

如前文所提及，类型注解使用 `:TypeAnnotation` 语法。在类型声明空间中可用的任何内容都可以用作类型注解。

在下面这个例子中，使用了变量、函数参数以及函数返回值的类型注解：

```ts
const num: number = 123;
function identity(num: number): number {
  return num;
}
```

### 原始类型

JavaScript 原始类型也同样适应于 TypeScript 的类型系统，因此 string、number、boolean 也可以被用作类型注解：

```ts
let num: number;
let str: string;
let bool: boolean;

num = 123;
num = 123.456;
num = '123'; // Error

str = '123';
str = 123; // Error

bool = true;
bool = false;
bool = 'false'; // Error
```